<!DOCTYPE html>
<html lang="en"  xmlns:th="http://www.thymeleaf.org">

<head>
    <!-- Required meta tags-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Colorlib Templates">
    <meta name="author" content="Colorlib">
    <meta name="keywords" content="Colorlib Templates">

    <!-- Title Page-->
    <title>Crear Cuenta</title>

    <!-- Icons font CSS-->
    <link href="vendor/mdi-font/css/material-design-iconic-font.min.css" rel="stylesheet" media="all">
    <link href="vendor/font-awesome-4.7/css/font-awesome.min.css" rel="stylesheet" media="all">
    <!-- Font special for pages-->
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">

    <!-- Vendor CSS-->
    <link href="vendor/select2/select2.min.css" rel="stylesheet" media="all">
    <link href="vendor/datepicker/daterangepicker.css" rel="stylesheet" media="all">

    <!-- Main CSS-->
    <link href="css/main2.css" rel="stylesheet" media="all">
    <link rel="stylesheet" type="text/css" href="css/util.css">
	<link rel="stylesheet" type="text/css" href="css/main.css">
	
	 <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>
     <script src="http://code.jquery.com/jquery-latest.js"></script>
	
    
</head>

<body>
    <div class="container-login100" style="background-image: url('images/bg-01.jpg');">
        <div class="wrapper wrapper--w680">
            <div class="card card-4">
                <div class="card-body">
                    <h2 class="title" align="center">Formulario de Registro</h2>
                    <form  th:action="@{/crearCuenta}" th:object="${usuario}" method="post">
                        <div class="row row-space">
                            <div class="col-2">
                                <div class="input-group">
                                    <label class="label">Nombre</label>
                                    <input class="input--style-4" type="text" th:field="*{nameuser}">
                                    <br><span th:errors="*{nameuser}" style="color:#FF0000"></span>
                                </div>
                            </div>
                            <div class="col-2">
                                <div class="input-group">
                                    <label class="label">Apellido</label>
                                    <input class="input--style-4" type="text" th:field="*{lastnameuser}">
                                    <br><span th:errors="*{lastnameuser}" style="color:#FF0000"></span>
                                </div>
                            </div>
                        </div>
                        <div class="row row-space">
                            <div class="col-2">
                                <div class="input-group">
                                    <label class="label">Fecha de Nacimiento</label>
                                    <div class="input-group-icon">
                                        <input class="input--style-4 js-datepicker" type="text" th:field="*{ffnacimiento}">
                                        <i class="zmdi zmdi-calendar-note input-icon js-btn-calendar"></i>
                                        <span th:errors="*{ffnacimiento}" style="color:#FF0000"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row row-space">
                            <div class="col-2">
                                <div class="input-group">
                                    <div class="input-group">
                            			<label class="label">Departamento</label>
                            			<div class="rs-select2 js-select-simple select--no-search">
		                                	<select th:field="*{idepartamento}" id="id">
		                                    	<option selected="selected" value="">Seleccionar</option>
		                                    	<option th:each="dep : ${departamentos}"
								                th:value="${dep.cdepartamento}"
								                th:text="${dep.snombre}"></option>
		                                	</select>
		                                	<div class="select-dropdown"></div>
		                            	</div>
                        			</div>
                                </div>
                            </div>
                            <div class="col-2">
                                <div class="input-group">
                                    <div class="input-group">
                            			<label class="label">Municipio</label>
                            			<div class="rs-select2 js-select-simple select--no-search">
			                                <select  th:field="*{idepartamento}" id="mun">
			                                    <option  selected value="">Seleccionar</option>                         
			                                </select>
			                                <div class="select-dropdown"></div>
			                            </div>
                        			</div>
                                </div>
                            </div>
                        </div> 	
                   		<div class="row row-space">
                           	<label class="label">Direccion de residencia</label>
                           	<input class="input--style-4" type="text" th:field="*{sdireccion}">
                           	<span th:errors="*{sdireccion}" style="color:#FF0000"></span>
                   		</div>
                    	<div class="row row-space">
                            <div class="col-2">
                                <div class="input-group">
                                    <label class="label">Nombre de Usuario</label>
                                    <input class="input--style-4" type="text" th:field="*{susuario}">
                                    <span th:errors="*{susuario}" style="color:#FF0000"></span>
                                </div>
                            </div>
                            <div class="col-2">
                                <div class="input-group">
                                    <label class="label">Contrase√±a</label>
                                    <input class="input--style-4" type="password" th:field="*{scontrasena}">
                                    <span th:errors="*{scontrasena}" style="color:#FF0000"></span>
                                </div>
                            </div>
                        </div>
                      	<div class="input-group">
                           <label class="label">Tipo de Usuario</label>
                           <div class="p-t-10">
                               <label class="radio-container m-r-45">Administrador
                                   <input type="radio" checked="checked" th:field="*{badmin}" th:value="${true}">
                                   <span class="checkmark"></span>
                               </label>
                               <label class="radio-container">Coordinador
                                   <input type="radio" th:field="*{badmin}" th:value="${false}">
                                   <span class="checkmark"></span>
                               </label>
                           </div>
                        </div>
                        
                        <div class="input-group" align="center">
                        	<button class="login100-form-btn" type="submit">
								Crear Cuenta
							</button>
                        </div>
                        
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Jquery JS-->
    <script src="vendor/jquery/jquery.min.js"></script>
    <!-- Vendor JS-->
    <script src="vendor/select2/select2.min.js"></script>
    <script src="vendor/datepicker/moment.min.js"></script>
    <script src="vendor/datepicker/daterangepicker.js"></script>

    <!-- Main JS-->
    <script src="js/global.js"></script>
    
    <script>
	$("#id").on("change", function (e) {
	    $.ajax({
	    url: "../municipio",
	    method: "POST",
	    data: {dep: $(this).val() },
	    dataType: "json",
	    success: function (response) {
	      if (response) {
	    	$("#mun option:not(:disabled)").remove();
	    	//$('#mun option[]').remove();
	        $.each(response, function(crearCuenta, option) {
	            console.log('<option value="'+option.cmunicipio+'" text="'+option.snombre+'"></option>')
	            $("#mun").append('<option th:value="'+option.cmunicipio+'">'+option.snombre+'</option>') 
	            
	        });
	      }
	    }
	  });
	});
	</script>

</body><!-- This templates was made by Colorlib (https://colorlib.com) -->

</html>
<!-- end document-->